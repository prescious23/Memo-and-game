{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.RefFindNode = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar ReactDOM = _interopRequireWildcard(require(\"react-dom\"));\n\nvar _utils = require(\"./utils\");\n/**\n * Detects if a passed element is a Fiber object instead of an element. Is needed as `ReactDOM.findDOMNode()` returns\n * a Fiber in `react-test-renderer` that can cause issues with tests. Is used only in non-production env.\n *\n * @see https://github.com/facebook/react/issues/7371#issuecomment-317396864\n * @see https://github.com/Semantic-Org/Semantic-UI-React/issues/4061#issuecomment-694895617\n */\n\n\nfunction isFiberRef(node) {\n  if (node === null) {\n    return false;\n  }\n\n  if (node instanceof Element || node instanceof Text) {\n    return false;\n  }\n\n  return !!(node.type && node.tag);\n}\n\nvar RefFindNode = /*#__PURE__*/function (_React$Component) {\n  (0, _inheritsLoose2.default)(RefFindNode, _React$Component);\n\n  function RefFindNode() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.prevNode = null;\n    return _this;\n  }\n\n  var _proto = RefFindNode.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var currentNode = ReactDOM.findDOMNode(this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFiberRef(currentNode)) {\n        currentNode = null;\n      }\n    }\n\n    this.prevNode = currentNode;\n    (0, _utils.handleRef)(this.props.innerRef, currentNode);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var currentNode = ReactDOM.findDOMNode(this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFiberRef(currentNode)) {\n        currentNode = null;\n      }\n    }\n\n    if (this.prevNode !== currentNode) {\n      this.prevNode = currentNode;\n      (0, _utils.handleRef)(this.props.innerRef, currentNode);\n    }\n\n    if (prevProps.innerRef !== this.props.innerRef) {\n      (0, _utils.handleRef)(this.props.innerRef, currentNode);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    (0, _utils.handleRef)(this.props.innerRef, null);\n    delete this.prevNode;\n  };\n\n  _proto.render = function render() {\n    var children = this.props.children;\n    return children;\n  };\n\n  return RefFindNode;\n}(React.Component);\n\nexports.RefFindNode = RefFindNode;","map":{"version":3,"mappings":";;;;;;;;;;;AAAA;;AACA;;AAEA;AAaA;;;;;;;;;AAOA,SAASA,UAAT,CAAoBC,IAApB,EAAkE;AAChE,MAAIA,IAAI,KAAK,IAAb,EAAmB;AACjB,WAAO,KAAP;AACD;;AAED,MAAIA,IAAI,YAAYC,OAAhBD,IAA2BA,IAAI,YAAYE,IAA/C,EAAqD;AACnD,WAAO,KAAP;AACD;;AAED,SAAO,CAAC,EAAEF,IAAI,CAACG,IAALH,IAAaA,IAAI,CAACI,GAApB,CAAR;AACD;;IAEYC,W;;;;;;;;;;;UACXC,WAAwB;;;;;;SAExBC,iDAAoB;AAClB,QAAIC,WAAW,GAAGC,QAAQ,CAACC,WAATD,CAAqB,IAArBA,CAAlB;;AAEA,QAAIE,OAAO,CAACC,GAARD,CAAYE,QAAZF,KAAyB,YAA7B,EAA2C;AACzC,UAAIZ,UAAU,CAACS,WAAD,CAAd,EAA6B;AAC3BA,mBAAW,GAAG,IAAdA;AACD;AACF;;AAED,SAAKF,QAAL,GAAgBE,WAAhB;AACA,0BAAU,KAAKM,KAAL,CAAWC,QAArB,EAA+BP,WAA/B;;;SAGFQ,iDAAmBC,SAAnB,EAAwC;AACtC,QAAIT,WAAW,GAAGC,QAAQ,CAACC,WAATD,CAAqB,IAArBA,CAAlB;;AAEA,QAAIE,OAAO,CAACC,GAARD,CAAYE,QAAZF,KAAyB,YAA7B,EAA2C;AACzC,UAAIZ,UAAU,CAACS,WAAD,CAAd,EAA6B;AAC3BA,mBAAW,GAAG,IAAdA;AACD;AACF;;AAED,QAAI,KAAKF,QAAL,KAAkBE,WAAtB,EAAmC;AACjC,WAAKF,QAAL,GAAgBE,WAAhB;AACA,4BAAU,KAAKM,KAAL,CAAWC,QAArB,EAA+BP,WAA/B;AACD;;AAED,QAAIS,SAAS,CAACF,QAAVE,KAAuB,KAAKH,KAAL,CAAWC,QAAtC,EAAgD;AAC9C,4BAAU,KAAKD,KAAL,CAAWC,QAArB,EAA+BP,WAA/B;AACD;;;SAGHU,uDAAuB;AACrB,0BAAU,KAAKJ,KAAL,CAAWC,QAArB,EAA+B,IAA/B;AAEA,WAAO,KAAKT,QAAZ;;;SAGFa,2BAAS;AAAA,QACCC,QADD,GACc,KAAKN,KAAL,CAAbM,QADD;AAGP,WAAOA,QAAP;;;;EA5C6BC,KAAK,CAACC,S","names":["isFiberRef","node","Element","Text","type","tag","RefFindNode","prevNode","componentDidMount","currentNode","ReactDOM","findDOMNode","process","env","NODE_ENV","props","innerRef","componentDidUpdate","prevProps","componentWillUnmount","render","children","React","Component"],"sources":["C:\\Users\\KamoheloMokoena\\Desktop\\memobook\\node_modules\\semantic-ui-react\\node_modules\\@fluentui\\react-component-ref\\dist\\commonjs\\RefFindNode.tsx"],"sourcesContent":["import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport { handleRef, RefProps } from './utils';\n\n// ========================================================\n// react/packages/react-reconciler/src/ReactFiber.js\n// ========================================================\n\ntype Fiber = {\n  // Tag identifying the type of fiber.\n  tag: string;\n  // The resolved function/class/ associated with this fiber.\n  type: any;\n};\n\n/**\n * Detects if a passed element is a Fiber object instead of an element. Is needed as `ReactDOM.findDOMNode()` returns\n * a Fiber in `react-test-renderer` that can cause issues with tests. Is used only in non-production env.\n *\n * @see https://github.com/facebook/react/issues/7371#issuecomment-317396864\n * @see https://github.com/Semantic-Org/Semantic-UI-React/issues/4061#issuecomment-694895617\n */\nfunction isFiberRef(node: Element | Fiber | Text | null): boolean {\n  if (node === null) {\n    return false;\n  }\n\n  if (node instanceof Element || node instanceof Text) {\n    return false;\n  }\n\n  return !!(node.type && node.tag);\n}\n\nexport class RefFindNode extends React.Component<RefProps> {\n  prevNode: Node | null = null;\n\n  componentDidMount() {\n    let currentNode = ReactDOM.findDOMNode(this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFiberRef(currentNode)) {\n        currentNode = null;\n      }\n    }\n\n    this.prevNode = currentNode;\n    handleRef(this.props.innerRef, currentNode);\n  }\n\n  componentDidUpdate(prevProps: RefProps) {\n    let currentNode = ReactDOM.findDOMNode(this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (isFiberRef(currentNode)) {\n        currentNode = null;\n      }\n    }\n\n    if (this.prevNode !== currentNode) {\n      this.prevNode = currentNode;\n      handleRef(this.props.innerRef, currentNode);\n    }\n\n    if (prevProps.innerRef !== this.props.innerRef) {\n      handleRef(this.props.innerRef, currentNode);\n    }\n  }\n\n  componentWillUnmount() {\n    handleRef(this.props.innerRef, null);\n\n    delete this.prevNode;\n  }\n\n  render() {\n    const { children } = this.props;\n\n    return children;\n  }\n}\n"]},"metadata":{},"sourceType":"script"}